{"remainingRequest":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/src/components/edit/ImageUploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/src/components/edit/ImageUploader.vue","mtime":1603321098992},{"path":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1calpoly/art/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB2dWUyRHJvcHpvbmUgZnJvbSAndnVlMi1kcm9wem9uZScKLy8gaW1wb3J0ICd2dWUyLWRyb3B6b25lL2Rpc3QvdnVlMkRyb3B6b25lLm1pbi5jc3MnCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IEZpbGVVcGxvYWQgZnJvbSAndi1maWxlLXVwbG9hZCc7CmltcG9ydCB2dWUyRHJvcHpvbmUgZnJvbSAndnVlMi1kcm9wem9uZSc7CmltcG9ydCAndnVlMi1kcm9wem9uZS9kaXN0L3Z1ZTJEcm9wem9uZS5taW4uY3NzJwppbXBvcnQgeyBJbWFnZVByb3ZpZGVyLCBJdGVtUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9wcm92aWRlcnMnOwpWdWUudXNlKEZpbGVVcGxvYWQpOwpWdWUudXNlKHZ1ZTJEcm9wem9uZSk7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7CiAgICB9LAogICAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvaW1hZ2UvdXBsb2FkJywKICAgICAgICAgIGhlYWRlcnM6IHt9LAogICAgICAgICAgZmlsZVVwbG9hZGVkOiB7fSwKICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgIGZpbGVFeHRlbnNpb246ICIiLAogICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICBmaWxlOiB7fSwKICAgICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgdGh1bWJVcmw6IGZ1bmN0aW9uKGZpbGUpIHsKICAgICAgICByZXR1cm4gZmlsZS5teVRodW1iVXJsUHJvcGVydHkKICAgICAgfSwKICAgICAgb25GaWxlVXBkYXRlOiBmdW5jdGlvbihmaWxlKSB7CiAgICAgICAgdGhpcy4kZGF0YS5maWxlVXBsb2FkZWQgPSBmaWxlOwogICAgICAgIHRoaXMuJGRhdGEudGl0bGUgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKVswXTsKICAgICAgICB0aGlzLiRkYXRhLmZpbGVFeHRlbnNpb24gPSBmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXTsKICAgICAgfSwKICAgICAgdXBsb2FkRmlsZXM6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIHRoaXMuJGRhdGEubG9hZGluZyA9IHRydWU7CiAgICAgICAgLy8gZW1pdCBldmVudCB0byByZWxvYWQgdGhlIGltYWdlT3JnYW5pemVyIG9uY2UgdGhlIGltYWdlIGlzIHVwbG9hZGVkCiAgICAgICAgLy8gc2V0IGxvYWRpbmcgdW50aWwgdGhlIHVwbG9hZCBpcyBkb25lLi4uCiAgICAgICAgCiAgICAgICAgbGV0IGZpbGUgPSB0aGlzLiRkYXRhLmZpbGVVcGxvYWRlZDsKICAgICAgICBsZXQgdGl0bGUgPSB0aGlzLiRkYXRhLnRpdGxlOwogICAgICAgIGxldCBjb250ZW50VHlwZSA9IGBpbWFnZS8ke3RoaXMuJGRhdGEuZmlsZUV4dGVuc2lvbn1gOwoKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgLy8gc2F2ZSB0aGlzIGRhdGExMTExIGFuZCBzZW5kIHRvIHNlcnZlcgogICAgICAgICAgbGV0IGRhdGExMTExID0gZS50YXJnZXQucmVzdWx0IC8vIHJlYWRlci5yZXN1bHQgLy8gLS0tLS0tLS0tLS0tLS0tLS0gZGF0YTExMTEKICAgICAgICAgIGNvbnN0IGltYWdlUHJvdmlkZXIgPSBuZXcgSW1hZ2VQcm92aWRlcigpOwogICAgICAgICAgbGV0IGJvZHkgPSB7CiAgICAgICAgICAgIGZpbGU6IGRhdGExMTExLAogICAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSwKICAgICAgICAgIH07CiAgICAgICAgICBpbWFnZVByb3ZpZGVyLnVwbG9hZEltYWdlKGJvZHkpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgbGV0IGl0ZW1Qcm92aWRlciA9IG5ldyBJdGVtUHJvdmlkZXIoKTsKICAgICAgICAgICAgaXRlbVByb3ZpZGVyLmNyZWF0ZUl0ZW0oewogICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgICAgICB1cmw6IHJlc3BvbnNlLkxvY2F0aW9uLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhmaWxlKTsKCiAgICAgICAgdGhpcy4kZGF0YS5kaWFsb2cgPSBmYWxzZTsKCiAgICAgIH0sCiAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCkge30KICAgIH0KfQo="},{"version":3,"sources":["ImageUploader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"ImageUploader.vue","sourceRoot":"src/components/edit","sourcesContent":["<template>\n  <v-row justify=\"end\" class='ma-2'>\n    <v-dialog\n    v-model=\"dialog\"\n    persistent\n    max-width=\"600px\"\n    >\n      <template \n      v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n          outlined\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          >\n          <v-icon>mdi-upload</v-icon>\n          Upload New Image\n          </v-btn>\n      </template>\n      <v-card \n      flat\n      class=\"mx-auto\"\n      outlined >\n        <v-card-title>\n          Upload Image\n        </v-card-title>\n\n        <form class=\"form my-5 mx-10\"> \n\n          <v-file-input\n            accept=\"image/*\"\n            label=\"Choose Image File\"\n            prepend-icon=\"mdi-file-image\"\n            @change=\"onFileUpdate\"\n          />\n\n          <v-text-field\n            v-model=\"title\"\n            prepend-icon=\"mdi-pencil-outline\"\n            label=\"Image Name\"\n          />\n        </form>\n\n        <v-card-actions class='my-2 mx-5'>\n          <v-spacer />\n          <v-btn \n          outlined\n          color=\"success\"\n          type=\"submit\"\n          @click.prevent=\"uploadFiles\"\n          :loading=\"loading\"\n          >\n            Upload\n          </v-btn>\n          <v-btn\n          color=\"error\"\n          outlined\n          @click=\"dialog = false\"\n          >\n            Cancel\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n\n<script>\n// import vue2Dropzone from 'vue2-dropzone'\n// import 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport Vue from 'vue';\nimport FileUpload from 'v-file-upload';\nimport vue2Dropzone from 'vue2-dropzone';\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport { ImageProvider, ItemProvider } from '../../providers';\nVue.use(FileUpload);\nVue.use(vue2Dropzone);\n\nexport default {\n    components: {\n    },\n    data: function() {\n        return {\n          dialog: false,\n          url: 'http://localhost:3000/image/upload',\n          headers: {},\n          fileUploaded: {},\n          title: \"\",\n          fileExtension: \"\",\n          loading: false,\n          file: {},\n        };\n    },\n    methods: {\n      thumbUrl: function(file) {\n        return file.myThumbUrlProperty\n      },\n      onFileUpdate: function(file) {\n        this.$data.fileUploaded = file;\n        this.$data.title = file.name.split('.')[0];\n        this.$data.fileExtension = file.name.split('.')[1];\n      },\n      uploadFiles: function() {\n        // this.$data.loading = true;\n        // emit event to reload the imageOrganizer once the image is uploaded\n        // set loading until the upload is done...\n        \n        let file = this.$data.fileUploaded;\n        let title = this.$data.title;\n        let contentType = `image/${this.$data.fileExtension}`;\n\n        var reader = new FileReader();\n        reader.onloadend = function(e) {\n          // save this data1111 and send to server\n          let data1111 = e.target.result // reader.result // ----------------- data1111\n          const imageProvider = new ImageProvider();\n          let body = {\n            file: data1111,\n            title: title,\n            contentType: contentType,\n          };\n          imageProvider.uploadImage(body).then(function(response) {\n            let itemProvider = new ItemProvider();\n            itemProvider.createItem({\n              title: title,\n              url: response.Location,\n            });\n          });\n        };\n        reader.readAsBinaryString(file);\n\n        this.$data.dialog = false;\n\n      },\n      mounted: function() {}\n    }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}