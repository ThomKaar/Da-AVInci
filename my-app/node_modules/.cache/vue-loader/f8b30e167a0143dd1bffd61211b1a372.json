{"remainingRequest":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/src/components/edit/InfoEdit.vue?vue&type=style&index=0&id=5d75e006&scoped=true&lang=css&","dependencies":[{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/src/components/edit/InfoEdit.vue","mtime":1603487958697},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/art/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojZWRpdC1pbmZvIHsKICAgIG1hcmdpbjogMi41JSA1JSAwJSA1JQp9Cgoubm9EZWNvcmF0aW9uTGlua3sKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKLyogCnRoZSB0cmVhdGVkIHRyZWUKCnNoYWxsb3cgcm9vdGVkIGlzb2xhdGUgdHJ1bmsKc3dlYXRzIGdsaXN0ZW5pbmcgYmVhZHMgZnJvbSBpdHMgc3ByaW5rbGVyCmdyZWVuIGxlYXZlcyBpbiB0aGUgdmFsbGV5Cm9mIGJ1cm50IGJyb3ducyBhbmQgZHJvdWdodCB5ZWxsb3dzCgpzd2F5IGluIHRoZSB3aW5kIG9mIGR1c3QKY3Jlc3RpbmcgdGhlIG5hdHVyYWwgaGlsbHMKdG8gYnVmZmV0IHRoZSBzeW50aGV0aWNhbGx5Cm9yZ2FuaWMgZGVzaWduZXIgYmFyawoKbmVzdGxlZCBpbiBhIGJlZCBvZiBtdWxjaAphIGJlZCBvZiBzdGlua3kgc2hpdApkaXJ0eSB3b3JrIHRvIHJhaXNlIHNvbWV0aGluZyBzdWNjZXNzZnVsIAppbiBhIHZhbGxleSB0aGF0IHNob3VsZCBiZSBkZWFkIAoKKi8K"},{"version":3,"sources":["InfoEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiWA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"InfoEdit.vue","sourceRoot":"src/components/edit","sourcesContent":["<template>\n    <div id=\"edit-info\">\n\n        <!-- create new -->\n        <v-row justify=\"end\" class='ma-2'>\n            <v-btn \n            outlined\n            @click=\"addSection()\">\n                <v-icon>mdi-plus</v-icon>\n                Create New Section\n            </v-btn>\n        </v-row>\n\n        <!--header-->\n        <v-row \n        class=\"my-5 mx-1\"\n        justify=\"start\">\n            <h2>Sections ({{totalSections}})</h2>\n        </v-row>\n\n        <!--sections-->\n        <v-row>\n            <v-col \n            cols=\"12\" sm=\"3\" md=\"4\"\n            v-for=\"(section,s) of info\"\n            :key=\"'section' + s\">\n                \n                <v-card flat\n                class=\"mx-auto mx-5\"\n                outlined \n                >\n                    <!--section title - always showing-->\n                    <v-card-title \n                    class=\"ma-2\">\n                        {{section.category}} ({{section.items.length}})\n                            <v-spacer />\n\n                            <!-- edit section button -->\n                            <v-btn\n                            icon\n                            @click=\"toggleShow(s)\"\n                            >\n                                <v-icon>\n                                    {{ \n                                        show === s\n                                        ? 'mdi-close-circle-outline'  :'mdi-pencil-outline' \n                                    }}\n                                </v-icon>\n                            </v-btn>\n\n                            <!-- delete section button -->\n                            <v-btn\n                            icon\n                            :disabled=\"show === s\"\n                            color=\"error\"\n                            @click=\"deleteSection(s)\"\n                            >\n                                <v-icon>\n                                    mdi-delete\n                                </v-icon>\n                            </v-btn>\n                    </v-card-title>\n\n                    <!--section info - dont show during edit-->\n                    <v-card-subtitle \n                    v-show=\"show !== s\"\n                    class=\"ma-2\">\n                        <div\n                        v-for=\"(item, i) of section.items\"\n                        :key=\"section.category + '-item' + i\"\n                        >\n                            <p>\n                                <v-icon small class=\"mb-1 mr-1\">\n                                    {{item.icon.S}}\n                                </v-icon>\n                                {{item.label.S}}\n                            </p>\n       \n                        </div>\n                    </v-card-subtitle>\n            \n                    <!-- section edit - show only during edit -->\n                    <v-expand-transition>\n                        <div v-show=\"show === s\">\n                            <v-divider />\n                            <v-flex class=\"pl-5 pr-5\">\n\n                                <!-- EDIT CATEGORY -->\n                                <h5 class=\"pt-5 pb-5\">EDIT CATEGORY NAME</h5>\n                                <v-text-field\n                                v-model=\"section.category\"\n                                label=\"Name\"\n                                />\n\n                                <v-divider />\n\n                                <!-- EDIT CATEGORY ITEMS -->\n                                <h5 class=\"pt-5 pb-5\">EDIT ITEMS</h5>\n                                <div\n                                v-for=\"(item, j) of info[s].items\"\n                                :key=j\n                                class=\"item mb-5\">\n\n                                    <v-row>\n                                        <v-col cols=\"1\">\n\n                                            <!-- delete item button -->\n                                            <v-btn \n                                            small icon\n                                            color=\"error\"\n                                            @click=\"deleteItem(s,j)\">\n                                                <v-icon >\n                                                    mdi-delete\n                                                </v-icon> \n                                            </v-btn>\n                                        </v-col>\n                                                                                                                        <v-col >\n                                            <!-- item index -->\n                                            <h4 class=\"pt-1\">\n                                                {{\"ITEM NO.\" + j}}\n                                            </h4>\n                                        </v-col>\n                                    </v-row>\n\n                                    <!--select item type-->\n                                    <v-select \n                                    v-model=\"item.type.S\" \n                                    :items=\"types\" \n                                    label=\"Type\" \n                                    @change=\"onSelectType(item.type.S, s, j)\" />\n                                    \n                                    <!--edit item if icon-->\n                                    <div v-if=\"item.type.S === 'icon'\">\n\n                                        <v-text-field\n                                        v-model=\"item.label.S\"\n                                        label=\"Name\"\n                                        />\n\n                                        <v-text-field\n                                        v-model=\"item.externalUrl.S\"\n                                        label=\"Link\"\n                                        />\n                                        <v-text-field\n                                        class=\"mb-2\"\n                                        v-model=\"item.icon.S\"\n                                        label=\"icon\"\n                                        >\n                                            <template v-slot:append-outer>\n                                                <a \n                                                class=\"noDecorationLink\" \n                                                target=\"_blank\"\n                                                href=\"https://materialdesignicons.com/\">\n                                                    <v-icon>\n                                                        mdi-help-circle-outline\n                                                    </v-icon>\n                                                </a>\n                                            </template>\n                                        </v-text-field>\n                                    </div>\n\n                                    <!-- edit images item -->\n                                    <div v-if=\"item.type.S === 'images'\"> \n                                        <v-text-field\n                                        v-model=\"item.label.S\"\n                                        label=\"Name\"\n                                        />\n                                    </div>\n\n                                    <!-- edit link item -->\n                                    <div v-if=\"item.type.S === 'simpleLink'\">\n                                        <v-text-field\n                                        v-model=\"item.label.S\"\n                                        label=\"Name\"\n                                        />\n\n                                        <v-text-field\n                                        v-model=\"item.externalUrl.S\"\n                                        label=\"URL\"\n                                        />\n                                    </div>\n\n                                </div>\n                            </v-flex>\n\n                            <!-- add new item button-->\n                            <v-btn \n                            class=\"ml-5 mb-10\" \n                            outlined\n                            @click=\"addItem(s)\">\n                                <v-icon small>mdi-plus</v-icon> \n                                Add Item\n                            </v-btn>\n                            \n                            <v-divider />\n                            \n                            <v-card-actions class=\"ma-2\">\n                                \n                                <v-btn \n                                color=\"error\"\n                                @click=\"show = -1\">\n                                    Cancel\n                                </v-btn>\n                                \n                                <!-- apply changes button-->\n                                <v-btn \n                                color=\"success\" \n                                :disabled=\"section.category === ''\"\n                                @click=\"updateItems(s); show=-1\">\n                                    Save\n                                </v-btn>\n\n                            </v-card-actions>\n                        </div>\n                    </v-expand-transition>\n                </v-card>\n            </v-col>\n        </v-row>\n    </div>\n</template>\n\n<script>\nimport { ItemProvider, CategoryProvider } from '../../providers';\n\nexport default {\n    components: {\n    },\n    data: function() {\n        return {\n            info: [],\n            types: [\n                \"icon\",\n                \"images\",\n                \"simpleLink\",\n            ],\n            show: -1,\n        }\n    },\n    async mounted() {\n        let provider = new CategoryProvider();\n        this.$data.info = await provider.getCategoryItems()\n        provider.getCategoryItems().then(res => {\n            console.log(\"got em\")  //eslint-disable-line\n            console.log(res) //eslint-disable-line\n        })\n    },\n    computed: {\n        totalSections: function() {\n            return this.$data.info && this.$data.info.length\n        }\n    },\n    methods: {\n        toggleShow: function(cat_index) {\n            this.$data.show = (this.$data.show === cat_index ? -1 : cat_index)\n        },\n        addItem: function(s) {\n            // add new empty item to section\n            let newItem = {\n                type: {S: \"icon\"},\n                id: {N: \"UNKNOWN\"},\n                externalUrl: {S: \"\"},\n                icon: {S: \"\"},\n                label: {S: \"\"}\n            };\n            this.$data.info[s].items.push(newItem);\n        },\n        onSelectType: function(type, i, j) {\n            // change type of item\n\n            let currItem = this.$data.info[i].items[j];\n\n            console.log(\"onselect - type = \" + type) //eslint-disable-line\n\n            let newItem = { \n                type: {S: type}, \n                id: {N: currItem.id.N},\n                label: {S: \"\"},\n                externalUrl: {S: \"\"},\n                icon: {S: \"\"}\n            };\n\n            if (type === 'images') {\n                newItem.imageIds = {L: [{N : \"1\"}]};\n            } \n\n            this.$data.info[i].items.splice(j,1, newItem);\n        },\n        updateItems: function(i) {\n            // save item changes in a given section\n            let itemProvider = new ItemProvider();\n            let categoryProvider = new CategoryProvider();\n\n            let category = {\n                name: this.$data.info[i].category,\n                items: []\n            }\n\n            this.$data.info[i].items.forEach(item => {\n                if (item.id.N === \"UNKNOWN\") \n                    item.id.N = `${this.newId()}`;\n                category.items.push(item.id.N)\n                itemProvider.updateItem(item.id.N, item);\n            }); \n\n            categoryProvider.updateCategory(category);\n        },\n        newId: function() {\n            // creates new id\n            let max = -1;\n            for (let section of this.$data.info) {\n                for(let item of section.items) {\n                    if (parseInt(item.id.N) > max) {\n                        max = parseInt(item.id.N);\n                    }\n                }\n            }\n            return max + 1;\n        },\n        deleteItem: function(i, j) {\n            // remove item from section\n            this.$data.info[i].items.splice(j, 1);\n        },\n        addSection: function() {\n            // creates new empty section\n            this.$data.info.push({\n                category: '',\n                items: [],\n            });\n\n            this.$data.show = this.$data.info.length -1\n        },\n        deleteSection: function(i) {\n            // deletes a section\n            let categoryProvider =  new CategoryProvider();\n            let itemProvider = new ItemProvider();\n\n            let category = this.$data.info[i].category;\n            let items = this.$data.info[i].items;\n            this.$data.info.splice(i, 1);\n            \n            categoryProvider.deleteCategory(category);\n            \n            items.forEach(item => {\n                if( item.id.N !== \"UNKNOWN\") \n                    itemProvider.deleteItem(item.id.N);\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n#edit-info {\n    margin: 2.5% 5% 0% 5%\n}\n\n.noDecorationLink{\n    text-decoration: none;\n}\n\n/* \nthe treated tree\n\nshallow rooted isolate trunk\nsweats glistening beads from its sprinkler\ngreen leaves in the valley\nof burnt browns and drought yellows\n\nsway in the wind of dust\ncresting the natural hills\nto buffet the synthetically\norganic designer bark\n\nnestled in a bed of mulch\na bed of stinky shit\ndirty work to raise something successful \nin a valley that should be dead \n\n*/\n</style>"]}]}