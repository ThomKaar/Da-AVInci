{"remainingRequest":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/src/components/edit/infoSection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/src/components/edit/infoSection.vue","mtime":1603597046507},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBJdGVtUHJvdmlkZXIsIENhdGVnb3J5UHJvdmlkZXIgfSBmcm9tICcuLi8uLi9wcm92aWRlcnMnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogeyB9LA0KICAgIGRhdGE6IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgaW5mbzogW10sDQogICAgICAgICAgICB0eXBlczogWw0KICAgICAgICAgICAgICAgICJpY29uIiwNCiAgICAgICAgICAgICAgICAiaW1hZ2VzIiwNCiAgICAgICAgICAgICAgICAic2ltcGxlTGluayIsDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc2hvdzogLTEsDQogICAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgICAgIGxldCBwcm92aWRlciA9IG5ldyBDYXRlZ29yeVByb3ZpZGVyKCk7DQogICAgICAgIHRoaXMuJGRhdGEuaW5mbyA9IGF3YWl0IHByb3ZpZGVyLmdldENhdGVnb3J5SXRlbXMoKQ0KICAgICAgICBwcm92aWRlci5nZXRDYXRlZ29yeUl0ZW1zKCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coImdvdCBlbSIpICAvL2VzbGludC1kaXNhYmxlLWxpbmUNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykgLy9lc2xpbnQtZGlzYWJsZS1saW5lDQogICAgICAgIH0pDQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICB0b3RhbFNlY3Rpb25zOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRkYXRhLmluZm8gJiYgdGhpcy4kZGF0YS5pbmZvLmxlbmd0aA0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHRvZ2dsZVNob3c6IGZ1bmN0aW9uKGNhdF9pbmRleCkgew0KICAgICAgICAgICAgdGhpcy4kZGF0YS5zaG93ID0gKHRoaXMuJGRhdGEuc2hvdyA9PT0gY2F0X2luZGV4ID8gLTEgOiBjYXRfaW5kZXgpDQogICAgICAgIH0sDQogICAgICAgIGFkZEl0ZW06IGZ1bmN0aW9uKHMpIHsNCiAgICAgICAgICAgIC8vIGFkZCBuZXcgZW1wdHkgaXRlbSB0byBzZWN0aW9uDQogICAgICAgICAgICBsZXQgbmV3SXRlbSA9IHsNCiAgICAgICAgICAgICAgICB0eXBlOiB7UzogImljb24ifSwNCiAgICAgICAgICAgICAgICBpZDoge046ICJVTktOT1dOIn0sDQogICAgICAgICAgICAgICAgZXh0ZXJuYWxVcmw6IHtTOiAiIn0sDQogICAgICAgICAgICAgICAgaWNvbjoge1M6ICIifSwNCiAgICAgICAgICAgICAgICBsYWJlbDoge1M6ICIifQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHRoaXMuJGRhdGEuaW5mb1tzXS5pdGVtcy5wdXNoKG5ld0l0ZW0pOw0KICAgICAgICB9LA0KICAgICAgICBvblNlbGVjdFR5cGU6IGZ1bmN0aW9uKHR5cGUsIGksIGopIHsNCiAgICAgICAgICAgIC8vIGNoYW5nZSB0eXBlIG9mIGl0ZW0NCg0KICAgICAgICAgICAgbGV0IGN1cnJJdGVtID0gdGhpcy4kZGF0YS5pbmZvW2ldLml0ZW1zW2pdOw0KDQogICAgICAgICAgICBjb25zb2xlLmxvZygib25zZWxlY3QgLSB0eXBlID0gIiArIHR5cGUpIC8vZXNsaW50LWRpc2FibGUtbGluZQ0KDQogICAgICAgICAgICBsZXQgbmV3SXRlbSA9IHsgDQogICAgICAgICAgICAgICAgdHlwZToge1M6IHR5cGV9LCANCiAgICAgICAgICAgICAgICBpZDoge046IGN1cnJJdGVtLmlkLk59LA0KICAgICAgICAgICAgICAgIGxhYmVsOiB7UzogIiJ9LA0KICAgICAgICAgICAgICAgIGV4dGVybmFsVXJsOiB7UzogIiJ9LA0KICAgICAgICAgICAgICAgIGljb246IHtTOiAiIn0NCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnaW1hZ2VzJykgew0KICAgICAgICAgICAgICAgIG5ld0l0ZW0uaW1hZ2VJZHMgPSB7TDogW3tOIDogIjEifV19Ow0KICAgICAgICAgICAgfSANCg0KICAgICAgICAgICAgdGhpcy4kZGF0YS5pbmZvW2ldLml0ZW1zLnNwbGljZShqLDEsIG5ld0l0ZW0pOw0KICAgICAgICB9LA0KICAgICAgICB1cGRhdGVJdGVtczogZnVuY3Rpb24oaSkgew0KICAgICAgICAgICAgLy8gc2F2ZSBpdGVtIGNoYW5nZXMgaW4gYSBnaXZlbiBzZWN0aW9uDQogICAgICAgICAgICBsZXQgaXRlbVByb3ZpZGVyID0gbmV3IEl0ZW1Qcm92aWRlcigpOw0KICAgICAgICAgICAgbGV0IGNhdGVnb3J5UHJvdmlkZXIgPSBuZXcgQ2F0ZWdvcnlQcm92aWRlcigpOw0KDQogICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSB7DQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kZGF0YS5pbmZvW2ldLmNhdGVnb3J5LA0KICAgICAgICAgICAgICAgIGl0ZW1zOiBbXQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLiRkYXRhLmluZm9baV0uaXRlbXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZC5OID09PSAiVU5LTk9XTiIpIA0KICAgICAgICAgICAgICAgICAgICBpdGVtLmlkLk4gPSBgJHt0aGlzLm5ld0lkKCl9YDsNCiAgICAgICAgICAgICAgICBjYXRlZ29yeS5pdGVtcy5wdXNoKGl0ZW0uaWQuTikNCiAgICAgICAgICAgICAgICBpdGVtUHJvdmlkZXIudXBkYXRlSXRlbShpdGVtLmlkLk4sIGl0ZW0pOw0KICAgICAgICAgICAgfSk7IA0KDQogICAgICAgICAgICBjYXRlZ29yeVByb3ZpZGVyLnVwZGF0ZUNhdGVnb3J5KGNhdGVnb3J5KTsNCiAgICAgICAgfSwNCiAgICAgICAgbmV3SWQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgLy8gY3JlYXRlcyBuZXcgaWQNCiAgICAgICAgICAgIGxldCBtYXggPSAtMTsNCiAgICAgICAgICAgIGZvciAobGV0IHNlY3Rpb24gb2YgdGhpcy4kZGF0YS5pbmZvKSB7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHNlY3Rpb24uaXRlbXMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGl0ZW0uaWQuTikgPiBtYXgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IHBhcnNlSW50KGl0ZW0uaWQuTik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbWF4ICsgMTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlSXRlbTogZnVuY3Rpb24oaSwgaikgew0KICAgICAgICAgICAgLy8gcmVtb3ZlIGl0ZW0gZnJvbSBzZWN0aW9uDQogICAgICAgICAgICB0aGlzLiRkYXRhLmluZm9baV0uaXRlbXMuc3BsaWNlKGosIDEpOw0KICAgICAgICB9LA0KICAgICAgICBhZGRTZWN0aW9uOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIC8vIGNyZWF0ZXMgbmV3IGVtcHR5IHNlY3Rpb24NCiAgICAgICAgICAgIHRoaXMuJGRhdGEuaW5mby5wdXNoKHsNCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsDQogICAgICAgICAgICAgICAgaXRlbXM6IFtdLA0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHRoaXMuJGRhdGEuc2hvdyA9IHRoaXMuJGRhdGEuaW5mby5sZW5ndGggLTENCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlU2VjdGlvbjogZnVuY3Rpb24oaSkgew0KICAgICAgICAgICAgLy8gZGVsZXRlcyBhIHNlY3Rpb24NCiAgICAgICAgICAgIGxldCBjYXRlZ29yeVByb3ZpZGVyID0gIG5ldyBDYXRlZ29yeVByb3ZpZGVyKCk7DQogICAgICAgICAgICBsZXQgaXRlbVByb3ZpZGVyID0gbmV3IEl0ZW1Qcm92aWRlcigpOw0KDQogICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSB0aGlzLiRkYXRhLmluZm9baV0uY2F0ZWdvcnk7DQogICAgICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLiRkYXRhLmluZm9baV0uaXRlbXM7DQogICAgICAgICAgICB0aGlzLiRkYXRhLmluZm8uc3BsaWNlKGksIDEpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjYXRlZ29yeVByb3ZpZGVyLmRlbGV0ZUNhdGVnb3J5KGNhdGVnb3J5KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICBpZiggaXRlbS5pZC5OICE9PSAiVU5LTk9XTiIpIA0KICAgICAgICAgICAgICAgICAgICBpdGVtUHJvdmlkZXIuZGVsZXRlSXRlbShpdGVtLmlkLk4pOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["infoSection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"infoSection.vue","sourceRoot":"src/components/edit","sourcesContent":["<template>\r\n<!--sections-->\r\n        <v-row>\r\n            <v-col \r\n            cols=\"12\" sm=\"3\" md=\"4\"\r\n            v-for=\"(section,s) of info\"\r\n            :key=\"'section' + s\">\r\n                   <v-card flat\r\n   class=\"mx-auto mx-5\"\r\n   outlined \r\n   >\r\n      <!--section title - always showing-->\r\n      <v-card-title class=\"ma-2\">\r\n\r\n         {{section.category}} ({{section.items.length}})\r\n         <v-spacer />\r\n\r\n         <!-- edit section button -->\r\n         <v-btn icon\r\n         @click=\"toggleShow(s)\"\r\n         >\r\n            <v-icon>\r\n               {{ show === s \r\n               ? 'mdi-close-circle-outline' : 'mdi-pencil-outline' \r\n               }}\r\n            </v-icon>\r\n         </v-btn>\r\n\r\n         <!-- delete section button -->\r\n         <v-btn\r\n         icon\r\n         :disabled=\"show === s\"\r\n         color=\"error\"\r\n         @click=\"deleteSection(s)\"\r\n         >\r\n            <v-icon>mdi-delete</v-icon>\r\n         </v-btn>\r\n      </v-card-title>\r\n\r\n      <!--section sectiondont show during edit-->\r\n      <v-card-subtitle \r\n      v-show=\"show !== s\"\r\n      class=\"ma-2\">\r\n         <div\r\n         v-for=\"(item, i) of section.items\"\r\n         :key=\"section.category + '-item' + i\"\r\n         >\r\n            <p>\r\n               <v-icon small class=\"mb-1 mr-1\">\r\n                  {{item.icon.S}}\r\n               </v-icon>\r\n               {{item.label.S}}\r\n            </p>\r\n         </div>\r\n        </v-card-subtitle>\r\n\r\n        <!-- section edit - show only during edit -->\r\n        <v-expand-transition>\r\n            <div v-show=\"show === s\">\r\n                <v-divider />\r\n                <v-flex class=\"pl-5 pr-5\">\r\n\r\n                <!-- EDIT CATEGORY -->\r\n                <h5 class=\"pt-5 pb-5\">EDIT CATEGORY NAME</h5>\r\n                <v-text-field\r\n                v-model=\"section.category\"\r\n                label=\"Name\"\r\n                />\r\n\r\n                <v-divider />\r\n\r\n                <!-- EDIT CATEGORY ITEMS -->\r\n                <h5 class=\"pt-5 pb-5\">EDIT ITEMS</h5>\r\n                <div\r\n                v-for=\"(item, j) of section.items\"\r\n                :key=j\r\n                class=\"item mb-5\">\r\n\r\n                    <v-row>\r\n                        <v-col cols=\"1\">\r\n\r\n                            <!-- delete item button -->\r\n                            <v-btn \r\n                            small icon\r\n                            color=\"error\"\r\n                            @click=\"deleteItem(s,j)\">\r\n                            <v-icon >mdi-delete</v-icon> \r\n                            </v-btn>\r\n                        </v-col>\r\n                                                                                                    <v-col >\r\n                            <!-- item index -->\r\n                            <h4 class=\"pt-1\">\r\n                            {{\"ITEM NO.\" + j}}\r\n                            </h4>\r\n                        </v-col>\r\n                    </v-row>\r\n\r\n                    <!--select item type-->\r\n                    <v-select \r\n                    v-model=\"item.type.S\" \r\n                    :items=\"types\" \r\n                    label=\"Type\" \r\n                    @change=\"onSelectType(item.type.S, s, j)\" />\r\n                    \r\n                    <!--edit item if icon-->\r\n                    <div v-if=\"item.type.S === 'icon'\">\r\n\r\n                        <v-text-field\r\n                        v-model=\"item.label.S\"\r\n                        label=\"Name\"\r\n                        />\r\n\r\n                        <v-text-field\r\n                        v-model=\"item.externalUrl.S\"\r\n                        label=\"Link\"\r\n                        />\r\n                        <v-text-field\r\n                        class=\"mb-2\"\r\n                        v-model=\"item.icon.S\"\r\n                        label=\"icon\"\r\n                        >\r\n                            <template v-slot:append-outer>\r\n                            <a \r\n                            class=\"noDecorationLink\" \r\n                            target=\"_blank\"\r\n                            href=\"https://materialdesignicons.com/\">\r\n                                    <v-icon>\r\n                                        mdi-help-circle-outline\r\n                                    </v-icon>\r\n                            </a>\r\n                            </template>\r\n                        </v-text-field>\r\n                    </div>\r\n\r\n                    <!-- edit images item -->\r\n                    <div v-if=\"item.type.S === 'images'\"> \r\n                        <v-text-field\r\n                        v-model=\"item.label.S\"\r\n                        label=\"Name\"\r\n                        />\r\n                    </div>\r\n\r\n                    <!-- edit link item -->\r\n                    <div v-if=\"item.type.S === 'simpleLink'\">\r\n                        <v-text-field\r\n                        v-model=\"item.label.S\"\r\n                        label=\"Name\"\r\n                        />\r\n\r\n                        <v-text-field\r\n                        v-model=\"item.externalUrl.S\"\r\n                        label=\"URL\"\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n                </v-flex>\r\n\r\n                <!-- add new item button-->\r\n                <v-btn \r\n                class=\"ml-5 mb-10\" \r\n                outlined\r\n                @click=\"addItem(s)\">\r\n                <v-icon small>mdi-plus</v-icon> \r\n                Add Item\r\n                </v-btn>\r\n                \r\n                <v-divider />\r\n                \r\n                <v-card-actions class=\"ma-2\">\r\n                \r\n                <!-- cancel changes button-->\r\n                <v-btn \r\n                color=\"error\"\r\n                @click=\"show = -1\">\r\n                    Cancel\r\n                </v-btn>\r\n                \r\n                <!-- apply changes button-->\r\n                <v-btn \r\n                color=\"success\" \r\n                :disabled=\"section.category === ''\"\r\n                @click=\"updateItems(s); show=-1\">\r\n                    Save\r\n                </v-btn>\r\n\r\n                </v-card-actions>\r\n            </div>\r\n        </v-expand-transition>\r\n    </v-card>\r\n            </v-col>\r\n        </v-row>\r\n\r\n   \r\n</template>\r\n\r\n<script>\r\nimport { ItemProvider, CategoryProvider } from '../../providers';\r\n\r\nexport default {\r\n    components: { },\r\n    data: function() {\r\n        return {\r\n            info: [],\r\n            types: [\r\n                \"icon\",\r\n                \"images\",\r\n                \"simpleLink\",\r\n            ],\r\n            show: -1,\r\n        }\r\n    },\r\n    async mounted() {\r\n        let provider = new CategoryProvider();\r\n        this.$data.info = await provider.getCategoryItems()\r\n        provider.getCategoryItems().then(res => {\r\n            console.log(\"got em\")  //eslint-disable-line\r\n            console.log(res) //eslint-disable-line\r\n        })\r\n    },\r\n    computed: {\r\n        totalSections: function() {\r\n            return this.$data.info && this.$data.info.length\r\n        }\r\n    },\r\n    methods: {\r\n        toggleShow: function(cat_index) {\r\n            this.$data.show = (this.$data.show === cat_index ? -1 : cat_index)\r\n        },\r\n        addItem: function(s) {\r\n            // add new empty item to section\r\n            let newItem = {\r\n                type: {S: \"icon\"},\r\n                id: {N: \"UNKNOWN\"},\r\n                externalUrl: {S: \"\"},\r\n                icon: {S: \"\"},\r\n                label: {S: \"\"}\r\n            };\r\n            this.$data.info[s].items.push(newItem);\r\n        },\r\n        onSelectType: function(type, i, j) {\r\n            // change type of item\r\n\r\n            let currItem = this.$data.info[i].items[j];\r\n\r\n            console.log(\"onselect - type = \" + type) //eslint-disable-line\r\n\r\n            let newItem = { \r\n                type: {S: type}, \r\n                id: {N: currItem.id.N},\r\n                label: {S: \"\"},\r\n                externalUrl: {S: \"\"},\r\n                icon: {S: \"\"}\r\n            };\r\n\r\n            if (type === 'images') {\r\n                newItem.imageIds = {L: [{N : \"1\"}]};\r\n            } \r\n\r\n            this.$data.info[i].items.splice(j,1, newItem);\r\n        },\r\n        updateItems: function(i) {\r\n            // save item changes in a given section\r\n            let itemProvider = new ItemProvider();\r\n            let categoryProvider = new CategoryProvider();\r\n\r\n            let category = {\r\n                name: this.$data.info[i].category,\r\n                items: []\r\n            }\r\n\r\n            this.$data.info[i].items.forEach(item => {\r\n                if (item.id.N === \"UNKNOWN\") \r\n                    item.id.N = `${this.newId()}`;\r\n                category.items.push(item.id.N)\r\n                itemProvider.updateItem(item.id.N, item);\r\n            }); \r\n\r\n            categoryProvider.updateCategory(category);\r\n        },\r\n        newId: function() {\r\n            // creates new id\r\n            let max = -1;\r\n            for (let section of this.$data.info) {\r\n                for(let item of section.items) {\r\n                    if (parseInt(item.id.N) > max) {\r\n                        max = parseInt(item.id.N);\r\n                    }\r\n                }\r\n            }\r\n            return max + 1;\r\n        },\r\n        deleteItem: function(i, j) {\r\n            // remove item from section\r\n            this.$data.info[i].items.splice(j, 1);\r\n        },\r\n        addSection: function() {\r\n            // creates new empty section\r\n            this.$data.info.push({\r\n                category: '',\r\n                items: [],\r\n            });\r\n\r\n            this.$data.show = this.$data.info.length -1\r\n        },\r\n        deleteSection: function(i) {\r\n            // deletes a section\r\n            let categoryProvider =  new CategoryProvider();\r\n            let itemProvider = new ItemProvider();\r\n\r\n            let category = this.$data.info[i].category;\r\n            let items = this.$data.info[i].items;\r\n            this.$data.info.splice(i, 1);\r\n            \r\n            categoryProvider.deleteCategory(category);\r\n            \r\n            items.forEach(item => {\r\n                if( item.id.N !== \"UNKNOWN\") \r\n                    itemProvider.deleteItem(item.id.N);\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n"]}]}