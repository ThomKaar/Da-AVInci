{"remainingRequest":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/babel-loader/lib/index.js!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/src/components/edit/ImageUploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/src/components/edit/ImageUploader.vue","mtime":1603680781946},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgRmlsZVVwbG9hZCBmcm9tICd2LWZpbGUtdXBsb2FkJzsKaW1wb3J0IHsgSW1hZ2VQcm92aWRlciwgSXRlbVByb3ZpZGVyIH0gZnJvbSAiLi4vLi4vcHJvdmlkZXJzIjsKVnVlLnVzZShGaWxlVXBsb2FkKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICB1cmw6ICdodHRwOi8vMTguMTg4Ljk1LjIyNDo1MDAwL2ltYWdlL3VwbG9hZCcsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgZmlsZUV4dGVuc2lvbjogIiIsCiAgICAgIGZpbGU6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNGaWxlOiBmdW5jdGlvbiBpc0ZpbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRkYXRhLmZpbGUgaW5zdGFuY2VvZiBGaWxlOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25GaWxlVXBkYXRlOiBmdW5jdGlvbiBvbkZpbGVVcGRhdGUoZmlsZSkgewogICAgICB0aGlzLiRkYXRhLmZpbGUgPSBmaWxlOwogICAgICB0aGlzLiRkYXRhLnRpdGxlID0gZmlsZS5uYW1lLnNwbGl0KCcuJylbMF07CiAgICAgIHRoaXMuJGRhdGEuZmlsZUV4dGVuc2lvbiA9IGZpbGUubmFtZS5zcGxpdCgnLicpWzFdOwogICAgfSwKICAgIGNsb3NlVXBsb2FkOiBmdW5jdGlvbiBjbG9zZVVwbG9hZCgpIHsKICAgICAgdGhpcy4kZGF0YS5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kZGF0YS5maWxlID0gbnVsbDsKICAgICAgdGhpcy4kZGF0YS5maWxlRXh0ZW5zaW9uID0gIiI7CiAgICAgIHRoaXMuJGRhdGEudGl0bGUgPSAiIjsKICAgIH0sCiAgICB1cGxvYWRGaWxlczogZnVuY3Rpb24gdXBsb2FkRmlsZXMoKSB7CiAgICAgIC8vIGVtaXQgZXZlbnQgdG8gcmVsb2FkIHRoZSBpbWFnZU9yZ2FuaXplciBvbmNlIHRoZSBpbWFnZSBpcyB1cGxvYWRlZAogICAgICAvLyBzZXQgbG9hZGluZyB1bnRpbCB0aGUgdXBsb2FkIGlzIGRvbmUuLi4KICAgICAgdmFyIGZpbGUgPSB0aGlzLiRkYXRhLmZpbGU7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuJGRhdGEudGl0bGU7CiAgICAgIHZhciBjb250ZW50VHlwZSA9ICJpbWFnZS8iLmNvbmNhdCh0aGlzLiRkYXRhLmZpbGVFeHRlbnNpb24pOwogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIHNhdmUgdGhpcyBkYXRhMTExMSBhbmQgc2VuZCB0byBzZXJ2ZXIKICAgICAgICB2YXIgZGF0YTExMTEgPSBlLnRhcmdldC5yZXN1bHQ7IC8vIHJlYWRlci5yZXN1bHQgLy8gLS0tLS0tLS0tLS0tLS0tLS0gZGF0YTExMTEKCiAgICAgICAgdmFyIGltYWdlUHJvdmlkZXIgPSBuZXcgSW1hZ2VQcm92aWRlcigpOwogICAgICAgIHZhciBib2R5ID0gewogICAgICAgICAgZmlsZTogZGF0YTExMTEsCiAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUKICAgICAgICB9OwogICAgICAgIGltYWdlUHJvdmlkZXIudXBsb2FkSW1hZ2UoYm9keSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBpdGVtUHJvdmlkZXIgPSBuZXcgSXRlbVByb3ZpZGVyKCk7CiAgICAgICAgICBpdGVtUHJvdmlkZXIuY3JlYXRlSXRlbSh7CiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgICAgdXJsOiByZXNwb25zZS5Mb2NhdGlvbgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGZpbGUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ImageUploader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,UAAA,MAAA,eAAA;AACA,SAAA,aAAA,EAAA,YAAA;AACA,GAAA,CAAA,GAAA,CAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,GAAA,EAAA,wCAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,aAAA,KAAA,KAAA,CAAA,IAAA,YAAA,IAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,sBAAA,IAAA,EAAA;AACA,WAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,WAAA,KAAA,CAAA,aAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,KALA;AAMA,IAAA,WAAA,EAAA,uBAAA;AACA,WAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,aAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,KAXA;AAYA,IAAA,WAAA,EAAA,uBAAA;AACA;AACA;AAEA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;AACA,UAAA,WAAA,mBAAA,KAAA,KAAA,CAAA,aAAA,CAAA;AAEA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,UAAA,CAAA,EAAA;AACA;AACA,YAAA,QAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAFA,CAEA;;AACA,YAAA,aAAA,GAAA,IAAA,aAAA,EAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,IAAA,EAAA,QADA;AAEA,UAAA,KAAA,EAAA,KAFA;AAGA,UAAA,WAAA,EAAA;AAHA,SAAA;AAKA,QAAA,aAAA,CAAA,WAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,YAAA,GAAA,IAAA,YAAA,EAAA;AACA,UAAA,YAAA,CAAA,UAAA,CAAA;AACA,YAAA,KAAA,EAAA,KADA;AAEA,YAAA,GAAA,EAAA,QAAA,CAAA;AAFA,WAAA;AAIA,SANA;AAOA,OAhBA;;AAiBA,MAAA,MAAA,CAAA,kBAAA,CAAA,IAAA;AAEA;AAxCA;AAfA,CAAA","sourcesContent":["<template>\n  <v-row justify=\"end\" class='ma-2'>\n    <v-dialog\n    v-model=\"dialog\"\n    persistent\n    max-width=\"600px\"\n    >\n      <template \n      v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n          outlined\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          >\n          <v-icon small class=\"mr-2\">mdi-upload</v-icon>\n          Upload New Image\n          </v-btn>\n      </template>\n\n      <v-card \n      flat\n      class=\"mx-auto\"\n      outlined \n      >\n        <v-card-title> Upload Image</v-card-title>\n\n        <form class=\"form my-5 mx-10\"> \n          <v-file-input\n            accept=\"image/*\"\n            label=\"Choose Image File\"\n            prepend-icon=\"mdi-file-image\"\n            @change=\"onFileUpdate\"\n          />\n          <v-text-field\n            v-model=\"title\"\n            prepend-icon=\"mdi-pencil-outline\"\n            label=\"Image Name\"\n          />\n        </form>\n\n        <v-card-actions class='my-2 mx-5'>\n          <v-spacer />\n          <v-btn \n          outlined\n          color=\"success\"\n          type=\"submit\"\n          :disabled=\"!isFile\"\n          @click.prevent=\"uploadFiles\"\n          >\n            Upload\n          </v-btn>\n          <v-btn\n          color=\"error\"\n          outlined\n          @click=\"closeUpload\"\n          >\n            Cancel\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n\n<script>\nimport Vue from 'vue';\nimport FileUpload from 'v-file-upload';\nimport { ImageProvider, ItemProvider } from '../../providers';\nVue.use(FileUpload);\n\nexport default {\n    data: function() {\n        return {\n          dialog: false,\n          url: 'http://18.188.95.224:5000/image/upload',\n          title: \"\",\n          fileExtension: \"\",\n          file: null,\n        };\n    },\n    computed: {\n      isFile: function() {\n        return this.$data.file instanceof File\n      },\n    },\n    methods: {\n      onFileUpdate: function(file) {\n        this.$data.file = file;\n        this.$data.title = file.name.split('.')[0];\n        this.$data.fileExtension = file.name.split('.')[1];\n      },\n      closeUpload: function() {\n          this.$data.dialog = false;\n          this.$data.file = null;\n          this.$data.fileExtension = \"\"\n          this.$data.title = \"\"\n      },\n      uploadFiles: function() {\n        // emit event to reload the imageOrganizer once the image is uploaded\n        // set loading until the upload is done...\n        \n        let file = this.$data.file;\n        let title = this.$data.title;\n        let contentType = `image/${this.$data.fileExtension}`;\n\n        var reader = new FileReader();\n        reader.onloadend = function(e) {\n          // save this data1111 and send to server\n          let data1111 = e.target.result // reader.result // ----------------- data1111\n          const imageProvider = new ImageProvider();\n          let body = {\n            file: data1111,\n            title: title,\n            contentType: contentType,\n          };\n          imageProvider.uploadImage(body).then(function(response) {\n            let itemProvider = new ItemProvider();\n            itemProvider.createItem({\n              title: title,\n              url: response.Location,\n            });\n          });\n        };\n        reader.readAsBinaryString(file);\n        \n      }\n    }\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/components/edit"}]}