{"remainingRequest":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/thread-loader/dist/cjs.js!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/babel-loader/lib/index.js!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/src/components/edit/ImageOrganizer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/src/components/edit/ImageOrganizer.vue","mtime":1603687285978},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/users/kenak/documents/1CALPOLY/ART/Da-AVInci/my-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvbW50L2MvdXNlcnMva2VuYWsvZG9jdW1lbnRzLzFDQUxQT0xZL0FSVC9EYS1BVkluY2kvbXktYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgSXRlbVByb3ZpZGVyIH0gZnJvbSAiLi4vLi4vcHJvdmlkZXJzIjsKaW1wb3J0IHsgSW1hZ2VQcm92aWRlciB9IGZyb20gIi4uLy4uL3Byb3ZpZGVycyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZXM6IHsKICAgICAgICByZXF1aXJlZDogZnVuY3Rpb24gcmVxdWlyZWQodmFsdWUpIHsKICAgICAgICAgIHJldHVybiAhIXZhbHVlIHx8ICdSZXF1aXJlZCc7CiAgICAgICAgfQogICAgICB9LAogICAgICB0YWdzOiBbXSwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgZWRpdE1vZGU6IGZhbHNlLAogICAgICBhY3RpdmVDb2xsZWN0aW9uOiB7fSwKICAgICAgY3JlYXRlTW9kZTogZmFsc2UsCiAgICAgIG5ld0NvbGxlY3Rpb246ICcnLAogICAgICBmaWx0ZXI6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwOwogICAgICB9OwogICAgfSwKICAgIHRvdGFsSW1hZ2VzOiBmdW5jdGlvbiB0b3RhbEltYWdlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJGRhdGEuaW1hZ2VzLmxlbmd0aDsKICAgIH0sCiAgICB0b3RhbEltYWdlc0J5VGFnOiBmdW5jdGlvbiB0b3RhbEltYWdlc0J5VGFnKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YWcpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJGRhdGEuaW1hZ2VzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC5jb2xsZWN0aW9ucy5pbmNsdWRlcyh0YWcubGFiZWwpOwogICAgICAgIH0pLmxlbmd0aDsKICAgICAgfTsKICAgIH0sCiAgICBmaWx0ZXJlZEltYWdlczogZnVuY3Rpb24gZmlsdGVyZWRJbWFnZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuJGRhdGEuZmlsdGVyID09PSAnJyA/IHRoaXMuJGRhdGEuaW1hZ2VzIDogdGhpcy4kZGF0YS5pbWFnZXMuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5jb2xsZWN0aW9ucyAmJiBlbC5jb2xsZWN0aW9ucy5pbmNsdWRlcyhfdGhpczIuJGRhdGEuZmlsdGVyKTsKICAgICAgfSk7CiAgICB9LAogICAgYWN0aXZlSW1hZ2VzOiBmdW5jdGlvbiBhY3RpdmVJbWFnZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuJGRhdGEuYWN0aXZlQ29sbGVjdGlvbiA9PT0gJycgPyB0aGlzLiRkYXRhLmltYWdlcyA6IHRoaXMuJGRhdGEuaW1hZ2VzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuY29sbGVjdGlvbnMuaW5jbHVkZXMoX3RoaXMzLiRkYXRhLmFjdGl2ZUNvbGxlY3Rpb24pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFRhZzogZnVuY3Rpb24gYWRkVGFnKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBpdGVtUHJvdmlkZXIgPSBuZXcgSXRlbVByb3ZpZGVyKCk7CiAgICAgIHZhciBuZXdUYWcgPSB0aGlzLiRkYXRhLm5ld0NvbGxlY3Rpb247CiAgICAgIGl0ZW1Qcm92aWRlci5maW5kTmV3SWQoKS50aGVuKGZ1bmN0aW9uIChuZXdJZCkgewogICAgICAgIHZhciBpdGVtID0gewogICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgTjogIiIuY29uY2F0KG5ld0lkKQogICAgICAgICAgfSwKICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgIFM6IG5ld1RhZwogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6IHsKICAgICAgICAgICAgUzogImltYWdlcyIKICAgICAgICAgIH0sCiAgICAgICAgICBjb250ZW50OiB7CiAgICAgICAgICAgIFM6ICJpbWFnZXMiCiAgICAgICAgICB9LAogICAgICAgICAgaW1hZ2VJZHM6IHsKICAgICAgICAgICAgTDogW10KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGl0ZW1Qcm92aWRlci51cGRhdGVJdGVtKG5ld0lkLCBpdGVtKTsKCiAgICAgICAgX3RoaXM0LiRkYXRhLnRhZ3MucHVzaCh7CiAgICAgICAgICBsYWJlbDogbmV3VGFnLAogICAgICAgICAgaWQ6IG5ld0lkCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLiRkYXRhLm5ld0NvbGxlY3Rpb24gPSAiIjsKICAgICAgdGhpcy4kZGF0YS5jcmVhdGVNb2RlID0gZmFsc2U7CiAgICB9LAogICAgcmVtb3ZlVGFnOiBmdW5jdGlvbiByZW1vdmVUYWcoKSB7CiAgICAgIHZhciB0YWcgPSB0aGlzLiRkYXRhLmFjdGl2ZUNvbGxlY3Rpb247CiAgICAgIHZhciBtc2cgPSAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAiLmNvbmNhdCh0YWcubGFiZWwsICI/Iik7CgogICAgICBpZiAoY29uZmlybShtc2cpKSB7CiAgICAgICAgdmFyIGl0ZW1Qcm92aWRlciA9IG5ldyBJdGVtUHJvdmlkZXIoKTsKICAgICAgICBpdGVtUHJvdmlkZXIuZGVsZXRlSXRlbSh0YWcuaWQpOwogICAgICAgIHRoaXMuJGRhdGEudGFncyA9IHRoaXMuJGRhdGEudGFncy5maWx0ZXIoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0LmxhYmVsICE9PSB0YWcubGFiZWw7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kZGF0YS5hY3RpdmVDb2xsZWN0aW9uID0ge307CiAgICAgICAgdGhpcy4kZGF0YS5lZGl0TW9kZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbWFrZUFjdGl2ZTogZnVuY3Rpb24gbWFrZUFjdGl2ZShpKSB7CiAgICAgIHZhciBhY3RpdmVDb2xsZWN0aW9uID0gdGhpcy4kZGF0YS5hY3RpdmVDb2xsZWN0aW9uOwogICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZlQ29sbGVjdGlvbikubGVuZ3RoID09PSAwKSByZXR1cm47CgogICAgICBpZiAodGhpcy4kZGF0YS5pbWFnZXNbaV0uY29sbGVjdGlvbnMuaW5jbHVkZXMoYWN0aXZlQ29sbGVjdGlvbi5sYWJlbCkpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLiRkYXRhLmltYWdlc1tpXS5jb2xsZWN0aW9ucy5pbmRleE9mKGFjdGl2ZUNvbGxlY3Rpb24ubGFiZWwpOwogICAgICAgIHRoaXMuJGRhdGEuaW1hZ2VzW2ldLmNvbGxlY3Rpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZGF0YS5pbWFnZXNbaV0uY29sbGVjdGlvbnMucHVzaChhY3RpdmVDb2xsZWN0aW9uLmxhYmVsKTsKICAgICAgfQogICAgfSwKICAgIGNvbm5lY3RJbWFnZXNUb0l0ZW1zOiBmdW5jdGlvbiBjb25uZWN0SW1hZ2VzVG9JdGVtcyhpdGVtcywgaW1hZ2VzKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy8gRG9uJ3QgbG9vayBhdCB0aGlzIHVnbHkgYXMgaGVjayBjb2RlLi4uCiAgICAgIC8vIFRocmVlIG5lc3RlZCBmb3IgbG9vcHMgwq9cXyjjg4QpXy/CrwogICAgICB2YXIgdG90YWxJbWdzID0gaW1hZ2VzLmxlbmd0aDsKICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIC8vY3JlYXRlIGFsbCB0YWdzCiAgICAgICAgX3RoaXM1LnRhZ3MucHVzaCh7CiAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbC5TLAogICAgICAgICAgaWQ6IGl0ZW0uaWQuTgogICAgICAgIH0pOyAvL2FkZCBjb2xsZWN0aW9uIHRvIGltYWdlcyBieSBJZAoKCiAgICAgICAgaWYgKGl0ZW0uaW1hZ2VJZHMuTC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpdGVtLmltYWdlSWRzLkwuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEltZ3M7IGkrKykgewogICAgICAgICAgICAgIGlmIChpZC5OID09PSBpbWFnZXNbaV0uaWQuTikgaW1hZ2VzW2ldLmNvbGxlY3Rpb25zLnB1c2goaXRlbS5sYWJlbC5TKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy4kZGF0YS5pbWFnZXMgPSBpbWFnZXM7CiAgICB9LAogICAgbG9hZEltYWdlQ29udGVudDogZnVuY3Rpb24gbG9hZEltYWdlQ29udGVudCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICAvLyBnZXQgaW1hZ2VzLCBpdGVtcyBhbmQgYXR0YWNoIGNvbGxlY3Rpb25zCiAgICAgIHZhciBpbWFnZVByb3ZpZGVyID0gbmV3IEltYWdlUHJvdmlkZXIoKTsKICAgICAgdmFyIGl0ZW1Qcm92aWRlciA9IG5ldyBJdGVtUHJvdmlkZXIoKTsKICAgICAgaW1hZ2VQcm92aWRlci5nZXRBbGxJbWFnZXMoKS50aGVuKGZ1bmN0aW9uIChpbWFnZXMpIHsKICAgICAgICBpbWFnZXMgPSBpbWFnZXMubWFwKGZ1bmN0aW9uIChpbWcpIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBpbWcsIHsKICAgICAgICAgICAgY29sbGVjdGlvbnM6IFtdCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBpdGVtUHJvdmlkZXIuZ2V0SXRlbXNCeUNvbnRlbnQoImltYWdlcyIpLnRoZW4oZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICAgICAgICBfdGhpczYuY29ubmVjdEltYWdlc1RvSXRlbXMoaXRlbXMsIGltYWdlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUNvbGxlY3Rpb246IGZ1bmN0aW9uIHVwZGF0ZUNvbGxlY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLiRkYXRhLmFjdGl2ZUNvbGxlY3Rpb24ubGFiZWw7CiAgICAgIHZhciBpdGVtUHJvdmlkZXIgPSBuZXcgSXRlbVByb3ZpZGVyKCk7CiAgICAgIGl0ZW1Qcm92aWRlci5nZXRJdGVtc0J5Q29udGVudEFuZExhYmVsKCJpbWFnZXMiLCBjb2xsZWN0aW9uKS50aGVuKGZ1bmN0aW9uIChpdGVtcykgewogICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIGltYWdlIGFuZCBpZiB0aGUgaW1hZ2UgaGFzIHRoZSBhY3RpdmVDb2xsZWN0aW9uIHRoZW4gd2UgYWRkIHRoZSBpbWFnZSdzIGlkIHRvIGl0ZW1zWzBdLmltYWdlSWRzLkwKICAgICAgICB2YXIgaW1hZ2VJZHMgPSBbXTsKCiAgICAgICAgX3RoaXM3LiRkYXRhLmltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSkgewogICAgICAgICAgaWYgKGltYWdlLmNvbGxlY3Rpb25zLmluY2x1ZGVzKGNvbGxlY3Rpb24pKSBpbWFnZUlkcy5wdXNoKGltYWdlLmlkKTsKICAgICAgICB9KTsKCiAgICAgICAgaXRlbXNbMF0uaW1hZ2VJZHMuTCA9IGltYWdlSWRzOwogICAgICAgIGl0ZW1Qcm92aWRlci51cGRhdGVJdGVtKGl0ZW1zWzBdLmlkLk4sIGl0ZW1zWzBdKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkSW1hZ2VDb250ZW50KCk7CiAgfQp9Ow=="},{"version":3,"sources":["ImageOrganizer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container fluid> \n    \n    <!--header-->\n    <v-row \n    class=\"my-5 mx-1\"\n    justify=\"start\">\n      <h2>Gallery ({{totalImages}})</h2>\n      <v-spacer />\n\n      <v-btn \n      text small\n      @click=\"filter =''; editMode = !editMode; createMode=false\"\n      >\n        <v-icon small class=\"mr-2\">\n          {{editMode ? 'mdi-close' : 'mdi-pencil-outline'}}\n        </v-icon>\n        Edit Collections\n      </v-btn>\n      <v-btn \n      text small\n      @click=\"filter =''; createMode=!createMode; editMode=false\"\n      >\n        <v-icon small class=\"mr-2\">\n          {{createMode ? 'mdi-close' : 'mdi-plus'}}\n        </v-icon>\n        Add Collection\n      </v-btn>\n    </v-row>\n\n    <!--create tag -->\n    <v-row \n    v-show=\"createMode\" \n    class=\"ma-1 fluid\" \n    justify=\"end\">\n      <v-card flat width=\"50%\" >\n        <v-card-title>\n          <v-text-field\n          class=\"mx-2\"\n          v-model=\"newCollection\"\n          label=\"New collection name\"\n          />\n          <v-btn outlined  small\n          class=\"mx-2\"\n          color=\"success\" \n          :disabled=\"newCollection===''\"\n          @click=\"addTag()\">\n            Create\n          </v-btn>\n          <v-btn icon small\n          class=\"ml-5\"\n          @click=\"newCollection=''; createMode=false \">\n            <v-icon>mdi-close-circle-outline</v-icon>\n          </v-btn>\n        </v-card-title>\n      </v-card>\n    </v-row>\n\n    <!--edit-->\n    <v-row \n    v-show=\"editMode\"\n    justify=\"end\"\n    class=\"ma-1 fluid\">\n      <v-card flat width=\"60%\">\n        <v-card-title>\n          <v-select\n          class=\"mx-2\"\n          v-model=\"activeCollection\"\n          label=\"Select a collection\"\n          no-data-text=\"No collections yet - Go make one!\"\n          :messages=\"`Collection ${activeCollection.label} has ${totalImagesByTag(activeCollection)} images.`\"\n          :items=\"tags\"\n          item-text=\"label\"\n          item-value=\"id\"\n          return-object\n          />\n          <v-btn outlined small\n          :disabled=\"isEmpty(activeCollection)\"\n          color=\"success\"\n          class=\"mx-2\"\n          @click=\"updateCollection(); editMode=false\">\n            Save Changes\n          </v-btn> \n          <v-btn outlined small\n          :disabled=\"isEmpty(activeCollection)\"\n          color=\"error\"\n          class=\"mx-2\"\n          @click.prevent=\"removeTag()\"\n          >\n            Delete Collection\n          </v-btn>\n          <v-btn icon small\n          class=\"ml-5\"\n          @click=\"editMode = false; activeCollection={}\">\n            <v-icon medium>mdi-close-circle-outline</v-icon>\n          </v-btn>\n        </v-card-title>\n      </v-card>\n    </v-row>\n\n    <!--filters-->\n    <v-row\n    class=\"ma-1\">\n      <v-item-group>\n        <v-btn disabled text>filter by</v-btn>\n        <v-btn text \n        :color=\"filter == '' ? '#A15995' : ''\"\n        @click=\"filter = ''\"> \n          all ({{totalImages}})\n        </v-btn>\n        <v-btn text\n        v-for=\"tag in tags\" \n        :key=\"'filterby:' +tag.label\"\n        :color=\"filter === tag.label ? '#A15995' : ''\"\n        @click=\"filter = tag.label\"\n        >\n          {{tag.label}} ({{totalImagesByTag(tag)}})\n        </v-btn>\n      </v-item-group>\n    </v-row>\n\n    <!--image gallery -->\n    <v-row>\n      <v-col \n      class=\"d-flex child-flex\"\n      cols=\"4\"\n      v-for=\"(image, i) in filteredImages\"\n      :key=\"i\">\n      \n        <v-card \n        class=\"mx-auto\"\n        outlined flat\n        @click.prevent=\"makeActive(i, activeCollection)\"\n        >  \n          <!--hidey div-->\n          <v-row justify=\"center\">\n            <v-overlay\n            :absolute=\"editMode\"\n            :value=\"image.collections.includes(activeCollection)\"\n            @click.prevent=\"makeActive(i, activeCollection)\"\n          >\n              <v-icon large\n              v-if=\"image.collections.includes(activeCollection)\"  \n              color=\"white\">\n                mdi-check-circle\n              </v-icon>\n            </v-overlay>\n\n            <v-card-title>{{image.title.S}}</v-card-title>      \n            <div class=\"d-flex flex-no-wrap justify-start mx-5 mb-5\">\n    \n              <v-img\n              max-width=\"250px\"\n              class=\"selectionImage\"\n              :src=image.url.S\n              />\n              \n              <v-card-subtitle class=\"ml-2\"> \n                <h4>Collections:</h4>\n                <ul>\n                  <li\n                    v-for=\"collection in image.collections\"\n                    :key=\"collection +'-image' + i \">\n                    {{collection}}\n                    </li>\n                </ul>\n              </v-card-subtitle>\n          \n            </div>\n          </v-row>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ItemProvider } from '../../providers';\nimport { ImageProvider } from '../../providers'; \n\nexport default {\n    components: {\n    },\n    data: function() {\n        return {\n            rules: {\n              required: value => !!value || 'Required',\n            },\n            tags: [],\n            images: [],\n            editMode: false,\n            activeCollection: {},\n            createMode: false,\n            newCollection: '',\n            filter: ''\n        };\n    },\n    computed: {\n      isEmpty: function() {\n        return obj => Object.keys(obj).length === 0\n      },\n      totalImages: function() {\n        return this.$data.images.length\n      },\n      totalImagesByTag: function() {\n        return tag => this.$data.images.filter(el => el.collections.includes(tag.label)).length\n      },\n      filteredImages: function() {\n        return this.$data.filter === '' ? this.$data.images : \n          this.$data.images.filter(el => el.collections && el.collections.includes(this.$data.filter))\n      },\n      activeImages: function(){\n          return this.$data.activeCollection === ''\n          ? this.$data.images \n          : this.$data.images.filter(el =>\n             el.collections.includes(this.$data.activeCollection))\n      }\n    },\n    methods: {\n        addTag: function() {\n          let itemProvider = new ItemProvider();\n          let newTag = this.$data.newCollection;\n          itemProvider.findNewId().then((newId) => {\n            let item = {\n              id: {\n                N: `${newId}`,\n              },\n              label: {\n                S: newTag,\n              },\n              type: {\n                S: \"images\",\n              },\n              content: {\n                S: \"images\",\n              },\n              imageIds: {\n                L: []\n              }\n            };\n            itemProvider.updateItem(newId, item);\n            this.$data.tags.push({\n              label: newTag,\n              id: newId\n            });\n          });\n        \n          this.$data.newCollection = \"\"\n          this.$data.createMode = false;\n        },\n        removeTag: function() {\n            let tag = this.$data.activeCollection;\n            let msg = `Are you sure you want to delete ${tag.label}?`;\n\n            if (confirm(msg)){\n              let itemProvider = new ItemProvider();\n              itemProvider.deleteItem(tag.id);\n              this.$data.tags = this.$data.tags\n                .filter(t => t.label !== tag.label)\n              this.$data.activeCollection = {}\n              this.$data.editMode = false;\n            }\n        },\n        makeActive: function(i) {\n          let activeCollection = this.$data.activeCollection;\n\n          if (Object.keys(activeCollection).length === 0)\n            return;\n\n          if (this.$data.images[i].collections.includes(activeCollection.label)) {\n            let index = this.$data.images[i].collections.indexOf(activeCollection.label);\n            this.$data.images[i].collections.splice(index, 1)\n          } \n          else {\n            this.$data.images[i].collections.push(activeCollection.label);\n          }\n        },\n        connectImagesToItems: function(items, images) {\n          // Don't look at this ugly as heck code...\n          // Three nested for loops ¯\\_(ツ)_/¯\n          let totalImgs = images.length;\n\n          items.forEach(item => {\n            //create all tags\n            this.tags.push({\n              label: item.label.S,\n              id: item.id.N\n            })\n            //add collection to images by Id\n            if (item.imageIds.L.length > 0 ){\n              item.imageIds.L.forEach(id => {\n                for (let i=0; i<totalImgs; i++) {\n                  if (id.N === images[i].id.N)\n                    images[i].collections.push(item.label.S)\n                }\n              })\n            }\n          })\n          this.$data.images = images;\n        },\n        loadImageContent: function() {\n          // get images, items and attach collections\n          let imageProvider = new ImageProvider();\n          let itemProvider = new ItemProvider();\n          imageProvider.getAllImages().then((images) => {\n            images = images.map(img => ({...img, collections: []}))\n            itemProvider.getItemsByContent(\"images\").then((items) => {\n              this.connectImagesToItems(items, images);\n            });  \n          });\n        },\n        updateCollection: function() {\n          let collection = this.$data.activeCollection.label\n\n          let itemProvider = new ItemProvider();\n          itemProvider.getItemsByContentAndLabel(\"images\", collection)\n            .then((items) => {\n              // Loop through each image and if the image has the activeCollection then we add the image's id to items[0].imageIds.L\n              let imageIds = [];\n              this.$data.images.forEach(image => {\n                if (image.collections.includes(collection))\n                  imageIds.push(image.id)\n              })\n\n              items[0].imageIds.L = imageIds;\n              itemProvider.updateItem(items[0].id.N, items[0]);\n            })\n        }\n    },\n   mounted() {\n        this.loadImageContent();\n    }\n}\n</script>\n\n<style scoped>\n.selectionImage {\n  display: flex;\n  align-items: center;\n  height: auto;\n  width: 100%;\n}\n\n\n</style>\n"],"sourceRoot":"src/components/edit"}]}